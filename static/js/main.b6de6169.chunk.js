(this["webpackJsonphymnal-app"]=this["webpackJsonphymnal-app"]||[]).push([[7],{174:function(e,n,t){},176:function(e,n,t){var r={"./ion-action-sheet-ios.entry.js":[308,11],"./ion-action-sheet-md.entry.js":[309,12],"./ion-alert-ios.entry.js":[310,13],"./ion-alert-md.entry.js":[311,14],"./ion-app_8-ios.entry.js":[312,15],"./ion-app_8-md.entry.js":[313,16],"./ion-avatar_3-ios.entry.js":[314,33],"./ion-avatar_3-md.entry.js":[315,34],"./ion-back-button-ios.entry.js":[316,35],"./ion-back-button-md.entry.js":[317,36],"./ion-backdrop-ios.entry.js":[318,77],"./ion-backdrop-md.entry.js":[319,78],"./ion-button_2-ios.entry.js":[320,37],"./ion-button_2-md.entry.js":[321,38],"./ion-card_5-ios.entry.js":[322,39],"./ion-card_5-md.entry.js":[323,40],"./ion-checkbox-ios.entry.js":[324,41],"./ion-checkbox-md.entry.js":[325,42],"./ion-chip-ios.entry.js":[326,43],"./ion-chip-md.entry.js":[327,44],"./ion-col_3.entry.js":[328,79],"./ion-datetime_3-ios.entry.js":[329,21],"./ion-datetime_3-md.entry.js":[330,22],"./ion-fab_3-ios.entry.js":[331,45],"./ion-fab_3-md.entry.js":[332,46],"./ion-img.entry.js":[333,80],"./ion-infinite-scroll_2-ios.entry.js":[334,81],"./ion-infinite-scroll_2-md.entry.js":[335,82],"./ion-input-ios.entry.js":[336,47],"./ion-input-md.entry.js":[337,48],"./ion-item-option_3-ios.entry.js":[338,49],"./ion-item-option_3-md.entry.js":[339,50],"./ion-item_8-ios.entry.js":[340,51],"./ion-item_8-md.entry.js":[341,52],"./ion-loading-ios.entry.js":[342,53],"./ion-loading-md.entry.js":[343,54],"./ion-menu_3-ios.entry.js":[344,55],"./ion-menu_3-md.entry.js":[345,56],"./ion-modal-ios.entry.js":[346,17],"./ion-modal-md.entry.js":[347,18],"./ion-nav_2.entry.js":[348,29],"./ion-popover-ios.entry.js":[349,19],"./ion-popover-md.entry.js":[350,20],"./ion-progress-bar-ios.entry.js":[351,57],"./ion-progress-bar-md.entry.js":[352,58],"./ion-radio_2-ios.entry.js":[353,59],"./ion-radio_2-md.entry.js":[354,60],"./ion-range-ios.entry.js":[355,61],"./ion-range-md.entry.js":[356,62],"./ion-refresher_2-ios.entry.js":[357,23],"./ion-refresher_2-md.entry.js":[358,24],"./ion-reorder_2-ios.entry.js":[359,31],"./ion-reorder_2-md.entry.js":[360,32],"./ion-ripple-effect.entry.js":[361,83],"./ion-route_4.entry.js":[362,63],"./ion-searchbar-ios.entry.js":[363,64],"./ion-searchbar-md.entry.js":[364,65],"./ion-segment_2-ios.entry.js":[365,66],"./ion-segment_2-md.entry.js":[366,67],"./ion-select_3-ios.entry.js":[367,68],"./ion-select_3-md.entry.js":[368,69],"./ion-slide_2-ios.entry.js":[369,84],"./ion-slide_2-md.entry.js":[370,85],"./ion-spinner.entry.js":[371,27],"./ion-split-pane-ios.entry.js":[372,86],"./ion-split-pane-md.entry.js":[373,87],"./ion-tab-bar_2-ios.entry.js":[374,70],"./ion-tab-bar_2-md.entry.js":[375,71],"./ion-tab_2.entry.js":[376,30],"./ion-text.entry.js":[377,72],"./ion-textarea-ios.entry.js":[378,73],"./ion-textarea-md.entry.js":[379,74],"./ion-toast-ios.entry.js":[380,75],"./ion-toast-md.entry.js":[381,76],"./ion-toggle-ios.entry.js":[382,25],"./ion-toggle-md.entry.js":[383,26],"./ion-virtual-scroll.entry.js":[384,88]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t(o)}))}o.keys=function(){return Object.keys(r)},o.id=176,e.exports=o},178:function(e,n,t){var r={"./ion-icon.entry.js":[386,91]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t(o)}))}o.keys=function(){return Object.keys(r)},o.id=178,e.exports=o},187:function(e,n){},189:function(e,n){},201:function(e,n){},203:function(e,n){},230:function(e,n){},232:function(e,n){},233:function(e,n){},238:function(e,n){},240:function(e,n){},259:function(e,n){},271:function(e,n){},274:function(e,n){},304:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(60),i=t.n(a),c=t(58),s=t(7),u=(t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(2)),l=t(8),m=(t(42),t(11)),d=t(95),f=t.n(d),y=t(181);var j,b=function(){var e,n,t="hymnal_app_service_id",a="template_z4z7bhi",i=Object(r.useState)(""),c=Object(l.a)(i,2),s=c[0],m=c[1],d=Object(r.useState)(""),j=Object(l.a)(d,2),b=j[0],p=j[1],g=Object(r.useState)(""),h=Object(l.a)(g,2),E=h[0],v=h[1],k=Object(r.useState)(!1),O=Object(l.a)(k,2),_=O[0],S=O[1];return f.a.init((e="U2FsdGVkX19ijiVnA6XtmJ4wa/RL9NngWwn4uKfq6gO+4ZI/V1F/RCYL4REfk0tZ",n="jesus private key",y.AES.decrypt(e,n).toString(y.enc.Utf8))),o.a.createElement("div",{id:"feedbackFormDiv"},o.a.createElement(u.n,null,o.a.createElement(u.o,{position:"floating"},"Name"),o.a.createElement(u.m,{type:"text",value:s,placeholder:"Enter your name",onIonChange:function(e){return m(e.detail.value)}})),o.a.createElement(u.n,null,o.a.createElement(u.o,{position:"floating"},"What do you think?"),o.a.createElement(u.t,{rows:7,value:b,placeholder:"Enter feedback",onIonChange:function(e){return p(e.detail.value)}})),o.a.createElement(u.a,{expand:"full",onClick:function(){return function(){var e={from_name:s,message:b};""===b||""===s?v("Please tell us your name and feedback message!"):(f.a.send(t,a,e).then((function(e){console.log("Email sent successfully.",e.status,e.text),v("Feedback Submitted Sucessfully, Thanks!")}),(function(e){v("Error Submitting Feedback: ".concat(e)),console.log("Error sending email: ",e)})),m(""),p(""));S(!0)}()}},"Submit Feedback"),o.a.createElement(u.q,{id:"feedbackResponseModal",isOpen:_,onDidDismiss:function(){return w()}},o.a.createElement("h1",{className:"center"},E),o.a.createElement(u.a,{id:"feedbackResponseOKButton",onClick:function(){return w()}},"OK")));function w(){v(""),S(!1)}},p=function(){var e=Object(r.useState)(""),n=Object(l.a)(e,2),t=n[0],a=n[1];return o.a.createElement(u.h,null,""===t?o.a.createElement(u.p,null,o.a.createElement(u.n,{id:"settingsTitle"},o.a.createElement(u.o,null,"Settings")),o.a.createElement(u.n,null,o.a.createElement(u.a,{onClick:function(){return a("feedback")}},"Submit Feedback"))):null,"feedback"===t?o.a.createElement(b,null):null,""!==t?o.a.createElement(u.a,{color:"light",expand:"full",id:"backToSettingsButton",onClick:function(){return a("")}},"Return to Settings"):null)},g=function(e){var n=Object(r.useState)(!1),t=Object(l.a)(n,2),a=t[0],i=t[1];return o.a.createElement(u.w,null,o.a.createElement(u.u,{id:"appName"},P),o.a.createElement(u.b,{slot:"start"},function(){if(!e.backButtonOnClick)return null;return o.a.createElement(u.a,{onClick:e.backButtonOnClick},o.a.createElement(u.j,{icon:m.i}))}()),o.a.createElement(u.b,{slot:"primary"},function(){if(!e.toggleSongModeOnClick)return null;return o.a.createElement(u.a,{id:"songViewToggler",onClick:e.toggleSongModeOnClick},o.a.createElement(u.j,{icon:m.l}),o.a.createElement(u.j,{icon:m.r}),o.a.createElement(u.j,{icon:m.h}))}(),o.a.createElement(u.a,{onClick:function(){return i(!0)}},o.a.createElement(u.j,{icon:m.q}))),o.a.createElement(u.q,{id:"settingsModal",isOpen:a,onDidDismiss:function(){return i(!1)}},o.a.createElement(p,null),o.a.createElement(u.a,{id:"returnToHymnalButton",onClick:function(){return i(!1)}},"Back to Hymnal")))},h=function(){return o.a.createElement(u.r,null,o.a.createElement(u.i,null,o.a.createElement(g,null)),o.a.createElement(u.h,null,o.a.createElement(s.a,{to:"shl"})))},E=t(156),v="Songs and Hymns of Life",k="https://raw.githubusercontent.com/Church-Life-Apps/Resources/master/resources/metadata/shl.json";function O(e){return e.replace(/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g,"")}!function(e){e[e.Music=0]="Music",e[e.Lyrics=1]="Lyrics"}(j||(j={}));var _=function(e){var n=Object(s.h)().bookId,t=Object(r.useState)([]),a=Object(l.a)(t,2),i=a[0],c=a[1],m=Object(r.useState)(e.songs.entries()),d=Object(l.a)(m,1)[0],f=Object(s.g)(),y=function(){if(void 0===e.searchString||"string"!==typeof e.searchString||""===e.searchString.trim())return[];var n=O(e.searchString.trim().toLowerCase()),t=Number(n);if(!isNaN(t)&&t>0&&t<=e.songs.length)return t;return n.split(" ")}(),j="number"===typeof y;return j?i.push(p(e.songs[y-1])):0===i.length&&b(d,20,y),i.length>0?o.a.createElement("div",null,o.a.createElement(u.p,null,i),o.a.createElement(u.k,{onIonInfinite:function(e){var n=e.target;b(d,10,y)||(n.disabled=!0);c(Array.from(i)),n.complete()},disabled:j},o.a.createElement(u.l,{loadingSpinner:"bubbles",loadingText:"Loading more songs..."}))):""!==e.searchString?o.a.createElement(u.n,null,o.a.createElement(u.o,null,"No results found")):null;function b(e,n,t){for(;n>0;){var r=e.next();if(r.done)return!1;var o=r.value[1];g(o,t)&&(i.push(p(o)),n--)}return!0}function p(e){return o.a.createElement(u.c,{key:e.songNumber,onClick:function(){f.push("/".concat(n,"/").concat(e.songNumber))}},o.a.createElement(u.g,null,e.songNumber,". ",e.title),o.a.createElement(u.f,null,e.author))}function g(e,n){if(void 0===n||0===n.length)return!0;var t,r=O(e.title.toLowerCase()),o=O(e.author.toLowerCase()),a=Object(E.a)(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!r.includes(i)&&!o.includes(i))return!1}}catch(c){a.e(c)}finally{a.f()}return!0}},S=t(10),w=t.n(S),C=t(31),N=t(158).a.Storage,x="shl";function I(){return L.apply(this,arguments)}function L(){return(L=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T(x).then(function(){var e=Object(C.a)(w.a.mark((function e(n){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=11;break}return e.next=3,fetch(k);case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,M(x,JSON.stringify(r)),e.abrupt("return",r[v]);case 11:return e.abrupt("return",JSON.parse(n)[v]);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e),[]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,n){return B.apply(this,arguments)}function B(){return(B=Object(C.a)(w.a.mark((function e(n,t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.set({key:n,value:t}).catch((function(e){console.log("Error storing item because ".concat(e,"."))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return(D=Object(C.a)(w.a.mark((function e(n){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get({key:n});case 2:if(null!==(t=e.sent.value)){e.next=5;break}return e.abrupt("return","");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){var e=Object(r.useState)(""),n=Object(l.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)([]),c=Object(l.a)(i,2),m=c[0],d=c[1];Object(r.useEffect)((function(){I().then((function(e){return e||[]})).then(d)}),[]);var f=Object(s.g)();return o.a.createElement(u.r,null,o.a.createElement(u.i,null,o.a.createElement(g,{backButtonOnClick:function(){return f.push("/")}})),o.a.createElement(u.n,null,o.a.createElement(u.s,{id:"searchBar",type:"search",value:t,placeholder:"Search for a song",onIonChange:function(e){return a(e.detail.value.toString())}})),o.a.createElement(u.h,{key:t},o.a.createElement(_,{key:t+m.length,searchString:t,songs:m})))},R=function(e){var n=Object(r.useState)(),t=Object(l.a)(n,2),a=t[0],i=t[1];return Object(r.useEffect)((function(){I().then((function(n){return n[e.songNumber-1]})).then(i).catch((function(e){return console.error(e),o.a.createElement(u.n,{lines:"none"},"No song found.")}))}),[e.songNumber]),o.a.createElement(u.c,null,o.a.createElement(u.e,null,o.a.createElement(u.g,{key:null===a||void 0===a?void 0:a.title},null===a||void 0===a?void 0:a.title)),o.a.createElement(u.d,{key:null===a||void 0===a?void 0:a.lyrics},a?function(e){var n=Object.keys(e.lyrics),t=[],r=0;return n.forEach((function(n){t.push(o.a.createElement(u.o,{key:r},n.toLowerCase().replace("v","Verse ").replace("c","Chorus ").replace("b","Bridge ").replace("p","Pre-Chorus "))),r++,e.lyrics[n].forEach((function(e){t.push(o.a.createElement(u.n,{key:r,lines:"none"},o.a.createElement(u.o,{className:"ion-text-wrap"},e))),r++}))})),t}(a):a))};var A,U=[156,216,278,478],V=function(e){var n,t=Object(u.y)("desktop")?window.innerWidth/2:window.innerWidth,a=Object(r.useState)(!1),i=Object(l.a)(a,2),c=i[0],s=i[1],m=Object(r.useState)(t),d=Object(l.a)(m,2),f=d[0],y=d[1],j=Object(r.useState)(!1),b=Object(l.a)(j,2),p=b[0],g=b[1],h=U.includes(e.songNumber),E=h&&c?"-B":"",v="https://raw.githubusercontent.com/Church-Life-Apps/Resources/master/resources/images/shl/SHL_"+((n=e.songNumber)<10?"00".concat(n):n<100?"0".concat(n):"".concat(n))+E+".png";return o.a.createElement("div",null,h&&o.a.createElement("div",{id:"songToggler"},o.a.createElement(u.v,{checked:c,onIonChange:function(e){return s(!c)}})),o.a.createElement("img",{style:{width:f},id:"musicView",onDoubleClick:function(){y(p?t:2*t),g(!p)},src:v,alt:"No Song Found"}))},H=t(68),J=function(){var e,n=Object(s.h)(),t=n.bookId,a=n.songId,i=Object(s.g)(),c=Object(r.useState)(j.Music),m=Object(l.a)(c,2),d=m[0],f=m[1];return o.a.createElement(u.r,null,o.a.createElement(u.i,null,o.a.createElement(g,{backButtonOnClick:function(){i.push("/".concat(t))},toggleSongModeOnClick:function(){d===j.Music?f(j.Lyrics):f(j.Music);try{e="INTERACTION",n="Songmode is toggled",t="SongMode_Toggle",H.a.event({category:e,action:n,label:t}),console.log("Event triggered")}catch(r){console.error(r)}var e,n,t}})),o.a.createElement(u.h,null,(e=+a,d===j.Music?o.a.createElement(V,{songNumber:e}):o.a.createElement(R,{songNumber:e}))))};try{A="UA-183902236-1",H.a.initialize(A),H.a.pageview(window.location.pathname+window.location.search),console.log("Page viewed")}catch(W){console.error(W)}var P="Hymnal App",q=function(){return o.a.createElement(c.a,null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",component:h,exact:!0}),o.a.createElement(s.b,{path:"/:bookId",component:F,exact:!0}),o.a.createElement(s.b,{path:"/:bookId/:songId",component:J,exact:!0})))};i.a.render(o.a.createElement(q,null),document.getElementById("root"))},42:function(e,n,t){}},[[304,9,10]]]);
//# sourceMappingURL=main.b6de6169.chunk.js.map