(this["webpackJsonphymnal-app"]=this["webpackJsonphymnal-app"]||[]).push([[7],{195:function(e,n,t){},197:function(e,n,t){var r={"./ion-action-sheet-ios.entry.js":[329,11],"./ion-action-sheet-md.entry.js":[330,12],"./ion-alert-ios.entry.js":[331,13],"./ion-alert-md.entry.js":[332,14],"./ion-app_8-ios.entry.js":[333,15],"./ion-app_8-md.entry.js":[334,16],"./ion-avatar_3-ios.entry.js":[335,33],"./ion-avatar_3-md.entry.js":[336,34],"./ion-back-button-ios.entry.js":[337,35],"./ion-back-button-md.entry.js":[338,36],"./ion-backdrop-ios.entry.js":[339,77],"./ion-backdrop-md.entry.js":[340,78],"./ion-button_2-ios.entry.js":[341,37],"./ion-button_2-md.entry.js":[342,38],"./ion-card_5-ios.entry.js":[343,39],"./ion-card_5-md.entry.js":[344,40],"./ion-checkbox-ios.entry.js":[345,41],"./ion-checkbox-md.entry.js":[346,42],"./ion-chip-ios.entry.js":[347,43],"./ion-chip-md.entry.js":[348,44],"./ion-col_3.entry.js":[349,79],"./ion-datetime_3-ios.entry.js":[350,21],"./ion-datetime_3-md.entry.js":[351,22],"./ion-fab_3-ios.entry.js":[352,45],"./ion-fab_3-md.entry.js":[353,46],"./ion-img.entry.js":[354,80],"./ion-infinite-scroll_2-ios.entry.js":[355,81],"./ion-infinite-scroll_2-md.entry.js":[356,82],"./ion-input-ios.entry.js":[357,47],"./ion-input-md.entry.js":[358,48],"./ion-item-option_3-ios.entry.js":[359,49],"./ion-item-option_3-md.entry.js":[360,50],"./ion-item_8-ios.entry.js":[361,51],"./ion-item_8-md.entry.js":[362,52],"./ion-loading-ios.entry.js":[363,53],"./ion-loading-md.entry.js":[364,54],"./ion-menu_3-ios.entry.js":[365,55],"./ion-menu_3-md.entry.js":[366,56],"./ion-modal-ios.entry.js":[367,17],"./ion-modal-md.entry.js":[368,18],"./ion-nav_2.entry.js":[369,29],"./ion-popover-ios.entry.js":[370,19],"./ion-popover-md.entry.js":[371,20],"./ion-progress-bar-ios.entry.js":[372,57],"./ion-progress-bar-md.entry.js":[373,58],"./ion-radio_2-ios.entry.js":[374,59],"./ion-radio_2-md.entry.js":[375,60],"./ion-range-ios.entry.js":[376,61],"./ion-range-md.entry.js":[377,62],"./ion-refresher_2-ios.entry.js":[378,23],"./ion-refresher_2-md.entry.js":[379,24],"./ion-reorder_2-ios.entry.js":[380,31],"./ion-reorder_2-md.entry.js":[381,32],"./ion-ripple-effect.entry.js":[382,83],"./ion-route_4.entry.js":[383,63],"./ion-searchbar-ios.entry.js":[384,64],"./ion-searchbar-md.entry.js":[385,65],"./ion-segment_2-ios.entry.js":[386,66],"./ion-segment_2-md.entry.js":[387,67],"./ion-select_3-ios.entry.js":[388,68],"./ion-select_3-md.entry.js":[389,69],"./ion-slide_2-ios.entry.js":[390,84],"./ion-slide_2-md.entry.js":[391,85],"./ion-spinner.entry.js":[392,27],"./ion-split-pane-ios.entry.js":[393,86],"./ion-split-pane-md.entry.js":[394,87],"./ion-tab-bar_2-ios.entry.js":[395,70],"./ion-tab-bar_2-md.entry.js":[396,71],"./ion-tab_2.entry.js":[397,30],"./ion-text.entry.js":[398,72],"./ion-textarea-ios.entry.js":[399,73],"./ion-textarea-md.entry.js":[400,74],"./ion-toast-ios.entry.js":[401,75],"./ion-toast-md.entry.js":[402,76],"./ion-toggle-ios.entry.js":[403,25],"./ion-toggle-md.entry.js":[404,26],"./ion-virtual-scroll.entry.js":[405,88]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=197,e.exports=a},199:function(e,n,t){var r={"./ion-icon.entry.js":[407,91]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=199,e.exports=a},207:function(e,n){},209:function(e,n){},221:function(e,n){},223:function(e,n){},250:function(e,n){},252:function(e,n){},253:function(e,n){},258:function(e,n){},260:function(e,n){},279:function(e,n){},291:function(e,n){},294:function(e,n){},324:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(67),c=t.n(o),i=t(65),s=t(7),l=(t(185),t(186),t(187),t(188),t(189),t(190),t(191),t(192),t(193),t(194),t(195),t(2)),u=t(8),m=(t(48),t(11)),d=t(106),f=t.n(d),b=t(69),y=t.n(b);var g,j=function(){var e,n,t="hymnal_app_service_id",o="template_z4z7bhi",c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Object(r.useState)(""),b=Object(u.a)(d,2),g=b[0],j=b[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),E=h[0],v=h[1],k=Object(r.useState)(!1),O=Object(u.a)(k,2),_=O[0],S=O[1];return f.a.init((e="U2FsdGVkX19ijiVnA6XtmJ4wa/RL9NngWwn4uKfq6gO+4ZI/V1F/RCYL4REfk0tZ",n="jesus private key",y.a.AES.decrypt(e,n).toString(y.a.enc.Utf8))),a.a.createElement("div",{id:"feedbackFormDiv"},a.a.createElement(l.n,null,a.a.createElement(l.o,{position:"floating"},"Name"),a.a.createElement(l.m,{type:"text",value:s,placeholder:"Enter your name",onIonChange:function(e){return m(e.detail.value)}})),a.a.createElement(l.n,null,a.a.createElement(l.o,{position:"floating"},"What do you think?"),a.a.createElement(l.t,{rows:7,value:g,placeholder:"Enter feedback",onIonChange:function(e){return j(e.detail.value)}})),a.a.createElement(l.a,{expand:"full",onClick:function(){return function(){var e={from_name:s,message:g};""===g||""===s?v("Please tell us your name and feedback message!"):(f.a.send(t,o,e).then((function(e){console.log("Email sent successfully.",e.status,e.text),v("Feedback Submitted Sucessfully, Thanks!")}),(function(e){v("Error Submitting Feedback: ".concat(e)),console.log("Error sending email: ",e)})),m(""),j(""));S(!0)}()}},"Submit Feedback"),a.a.createElement(l.q,{id:"feedbackResponseModal",isOpen:_,onDidDismiss:function(){return w()}},a.a.createElement("h1",{className:"center"},E),a.a.createElement(l.a,{id:"feedbackResponseOKButton",onClick:function(){return w()}},"OK")));function w(){v(""),S(!1)}},p=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1];return a.a.createElement(l.h,null,""===t?a.a.createElement(l.p,null,a.a.createElement(l.n,{id:"settingsTitle"},a.a.createElement(l.o,null,"Settings")),a.a.createElement(l.n,null,a.a.createElement(l.a,{onClick:function(){return o("feedback")}},"Submit Feedback"))):null,"feedback"===t?a.a.createElement(j,null):null,""!==t?a.a.createElement(l.a,{color:"light",expand:"full",id:"backToSettingsButton",onClick:function(){return o("")}},"Return to Settings"):null)},h=function(e){var n=Object(r.useState)(!1),t=Object(u.a)(n,2),o=t[0],c=t[1];return a.a.createElement(l.w,null,a.a.createElement(l.u,{id:"appName"},ne),a.a.createElement(l.b,{slot:"start"},function(){if(!e.backButtonOnClick)return null;return a.a.createElement(l.a,{onClick:e.backButtonOnClick},a.a.createElement(l.j,{icon:m.i}))}()),a.a.createElement(l.b,{slot:"primary"},function(){if(!e.toggleSongModeOnClick)return null;return a.a.createElement(l.a,{id:"songViewToggler",onClick:e.toggleSongModeOnClick},a.a.createElement(l.j,{icon:m.l}),a.a.createElement(l.j,{icon:m.r}),a.a.createElement(l.j,{icon:m.h}))}(),a.a.createElement(l.a,{onClick:function(){return c(!0)}},a.a.createElement(l.j,{icon:m.q}))),a.a.createElement(l.q,{id:"settingsModal",isOpen:o,onDidDismiss:function(){return c(!1)}},a.a.createElement(p,null),a.a.createElement(l.a,{id:"returnToHymnalButton",onClick:function(){return c(!1)}},"Back to Hymnal")))},E=function(){return a.a.createElement(l.r,null,a.a.createElement(l.i,null,a.a.createElement(h,null)),a.a.createElement(l.h,null,a.a.createElement(s.a,{to:"shl"})))},v=t(174),k="Songs and Hymns of Life",O="https://raw.githubusercontent.com/Church-Life-Apps/Resources/master/resources/metadata/shl.json";function _(e){return e.replace(/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g,"")}!function(e){e[e.Music=0]="Music",e[e.Lyrics=1]="Lyrics"}(g||(g={}));var S=function(e){var n=Object(s.h)().bookId,t=Object(r.useState)([]),o=Object(u.a)(t,2),c=o[0],i=o[1],m=Object(r.useState)(e.songs.entries()),d=Object(u.a)(m,1)[0],f=Object(s.g)(),b=function(){if(void 0===e.searchString||"string"!==typeof e.searchString||""===e.searchString.trim())return[];var n=_(e.searchString.trim().toLowerCase()),t=Number(n);if(!isNaN(t)&&t>0&&t<=e.songs.length)return t;return n.split(" ")}(),y="number"===typeof b;return y?c.push(j(e.songs[b-1])):0===c.length&&g(d,20,b),c.length>0?a.a.createElement("div",null,a.a.createElement(l.p,null,c),a.a.createElement(l.k,{onIonInfinite:function(e){var n=e.target;g(d,10,b)||(n.disabled=!0);i(Array.from(c)),n.complete()},disabled:y},a.a.createElement(l.l,{loadingSpinner:"bubbles",loadingText:"Loading more songs..."}))):""!==e.searchString?a.a.createElement(l.n,null,a.a.createElement(l.o,null,"No results found")):null;function g(e,n,t){for(;n>0;){var r=e.next();if(r.done)return!1;var a=r.value[1];p(a,t)&&(c.push(j(a)),n--)}return!0}function j(e){return a.a.createElement(l.c,{key:e.songNumber,onClick:function(){f.push("/".concat(n,"/").concat(e.songNumber))}},a.a.createElement(l.g,null,e.songNumber,". ",e.title),a.a.createElement(l.f,null,e.author))}function p(e,n){if(void 0===n||0===n.length)return!0;var t,r=_(e.title.toLowerCase()),a=_(e.author.toLowerCase()),o=Object(v.a)(n);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(!r.includes(c)&&!a.includes(c))return!1}}catch(i){o.e(i)}finally{o.f()}return!0}},w=t(10),C=t.n(w),x=t(34),N=t(178).a.Storage,L="shl";function T(){return I.apply(this,arguments)}function I(){return(I=Object(x.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D(L).then(function(){var e=Object(x.a)(C.a.mark((function e(n){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=11;break}return e.next=3,fetch(O);case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,M(L,JSON.stringify(r)),e.abrupt("return",r[k]);case 11:return e.abrupt("return",JSON.parse(n)[k]);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e),[]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,n){return B.apply(this,arguments)}function B(){return(B=Object(x.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.set({key:n,value:t}).catch((function(e){console.log("Error storing item because ".concat(e,"."))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return(F=Object(x.a)(C.a.mark((function e(n){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get({key:n});case 2:if(null!==(t=e.sent.value)){e.next=5;break}return e.abrupt("return","");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)([]),i=Object(u.a)(c,2),m=i[0],d=i[1];Object(r.useEffect)((function(){T().then((function(e){return e||[]})).then(d)}),[]);var f=Object(s.g)();return a.a.createElement(l.r,null,a.a.createElement(l.i,null,a.a.createElement(h,{backButtonOnClick:function(){return f.push("/")}})),a.a.createElement(l.n,null,a.a.createElement(l.s,{id:"searchBar",type:"search",value:t,placeholder:"Search for a song",onIonChange:function(e){return o(e.detail.value)}})),a.a.createElement(l.h,{key:t},a.a.createElement(S,{key:t+m.length,searchString:t,songs:m})))},R=function(e){var n=Object(r.useState)(),t=Object(u.a)(n,2),o=t[0],c=t[1];return Object(r.useEffect)((function(){T().then((function(n){return n[e.songNumber-1]})).then(c).catch((function(e){return console.error(e),a.a.createElement(l.n,{lines:"none"},"No song found.")}))}),[e.songNumber]),a.a.createElement(l.c,null,a.a.createElement(l.e,null,a.a.createElement(l.g,{key:null===o||void 0===o?void 0:o.title},null===o||void 0===o?void 0:o.title)),a.a.createElement(l.d,{key:null===o||void 0===o?void 0:o.lyrics},o?function(e){var n=Object.keys(e.lyrics),t=[],r=0;return n.forEach((function(n){t.push(a.a.createElement(l.o,{key:r},n.toLowerCase().replace("v","Verse ").replace("c","Chorus ").replace("b","Bridge ").replace("p","Pre-Chorus "))),r++,e.lyrics[n].forEach((function(e){t.push(a.a.createElement(l.n,{key:r,lines:"none"},a.a.createElement(l.o,{className:"ion-text-wrap"},e))),r++}))})),t}(o):o))};var U=[156,216,278,478],V=function(e){var n,t=Object(l.y)("desktop")?window.innerWidth/2:window.innerWidth,o=Object(r.useState)(!1),c=Object(u.a)(o,2),i=c[0],s=c[1],m=Object(r.useState)(t),d=Object(u.a)(m,2),f=d[0],b=d[1],y=Object(r.useState)(!1),g=Object(u.a)(y,2),j=g[0],p=g[1],h=U.includes(e.songNumber),E=h&&i?"-B":"",v="https://raw.githubusercontent.com/Church-Life-Apps/Resources/master/resources/images/shl/SHL_"+((n=e.songNumber)<10?"00".concat(n):n<100?"0".concat(n):"".concat(n))+E+".png";return a.a.createElement("div",null,h&&a.a.createElement("div",{id:"songToggler"},a.a.createElement(l.v,{checked:i,onIonChange:function(){return s(!i)}})),a.a.createElement("img",{style:{width:f},id:"musicView",onDoubleClick:function(){b(j?t:2*t),p(!j)},src:v,alt:"No Song Found"}))},q=t(79),W=function(){var e,n=Object(s.h)(),t=n.bookId,o=n.songId,c=Object(s.g)(),i=Object(r.useState)(g.Music),m=Object(u.a)(i,2),d=m[0],f=m[1];return a.a.createElement(l.r,null,a.a.createElement(l.i,null,a.a.createElement(h,{backButtonOnClick:function(){c.push("/".concat(t))},toggleSongModeOnClick:function(){d===g.Music?f(g.Lyrics):f(g.Music);try{e="INTERACTION",n="Songmode is toggled",t="SongMode_Toggle",q.a.event({category:e,action:n,label:t}),console.log("Event triggered")}catch(r){console.error(r)}var e,n,t}})),a.a.createElement(l.h,null,(e=+o,d===g.Music?a.a.createElement(V,{songNumber:e}):a.a.createElement(R,{songNumber:e}))))},H=t(19),J=t(20),P=t(176),Q="1.0",z="hymnal_1",K="songs_1",X="".concat(z,".").concat(K),Z={name:X,location:"default"},G=function(){function e(){var n=this;if(Object(H.a)(this,e),this.songsTable=void 0,Object(l.y)("cordova"))try{P.a.create(Z).then((function(e){n.songsTable=e,e.executeSql(ee).then((function(){console.log("Successfully opened SQLite database schema ".concat(z," and created table: ").concat(K,"."))}))}))}catch(r){console.log("Error creating SQLite database: "+r+r.message)}else try{var t=window.openDatabase(z,Q,X,5242880);t.changeVersion(Q,Q,(function(e){e.executeSql(ee)}),(function(e){console.log("Error creating database ".concat(X," because ").concat(e,", ").concat(e.message))}),(function(){console.log("Successfully opened WebSQL database schema: ".concat(z," and created table: ").concat(K,"."))})),this.songsTable=t}catch(r){console.log("Error creating the WebSQL database: "+r+r.message)}}return Object(J.a)(e,[{key:"getSongsTable",get:function(){return this.songsTable}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();G.instance=void 0;var Y="song_number",$="book_id",ee="CREATE TABLE IF NOT EXISTS ".concat(K,"(\n  ").concat(Y," int,\n  ").concat($," int,\n  ").concat("num_hits"," int,\n  ").concat("last_used"," datetime,\n  ").concat("favorited"," boolean,\n  ").concat("author"," text,\n  ").concat("title"," text,\n  ").concat("lyrics"," text,\n  primary key (").concat(Y,", ").concat($,")\n);");try{q.a.initialize("UA-183902236-1"),q.a.pageview(window.location.pathname+window.location.search),console.log("Page viewed")}catch(re){console.error(re)}var ne="Hymnal App",te=function(){return G.getInstance(),a.a.createElement(i.a,null,a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/",component:E,exact:!0}),a.a.createElement(s.b,{path:"/:bookId",component:A,exact:!0}),a.a.createElement(s.b,{path:"/:bookId/:songId",component:W,exact:!0})))};c.a.render(a.a.createElement(te,null),document.getElementById("root"))},48:function(e,n,t){}},[[324,9,10]]]);
//# sourceMappingURL=main.f4ef1ee7.chunk.js.map